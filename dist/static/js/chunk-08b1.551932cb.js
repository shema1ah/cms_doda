(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-08b1"],{"/5HK":function(t,e,i){"use strict";i.d(e,"c",function(){return r}),i.d(e,"a",function(){return c}),i.d(e,"e",function(){return u}),i.d(e,"d",function(){return d}),i.d(e,"b",function(){return p}),i.d(e,"f",function(){return f});var a=i("QbLZ"),n=i.n(a),o=i("jo6Y"),s=i.n(o),l=i("t3Un");function r(t){return Object(l.a)({url:"/versions",method:"get",params:t})}function c(t){return Object(l.a)({url:"/version",method:"post",data:t})}function u(t){var e=t.id,i=s()(t,["id"]);return Object(l.a)({url:"/version/"+e,method:"patch",data:n()({},i)})}function d(){return Object(l.a)({url:"/notice",method:"get"})}function p(t){return Object(l.a)({url:"/notice",method:"post",data:t})}function f(t){return Object(l.a)({url:"/notice",method:"put",data:t})}},"48Pm":function(t,e,i){"use strict";i.r(e);var a=i("P2sY"),n=i.n(a),o=i("jo6Y"),s=i.n(o),l=i("XJYT"),r=i("/5HK"),c={data:function(){return{title:"",type:"",options:{fullscreen:!0,lock:!0,text:"拼命加载中"},loaded:null,list:[{name:"基础信息配置",img:"https://doda.oss-cn-beijing.aliyuncs.com/image/2018/10/9/d595e1539078900909.jpg",fn:this.cloudConfig},{name:"公告配置",img:"https://doda.oss-cn-beijing.aliyuncs.com/image/2018/10/9/d595e1539078900909.jpg",fn:this.tip}],total:0,dialogStatus:"",dialogFormVisible:!1,rules:{title:[{type:"string",required:!0,message:"标题是必须的",trigger:"blur"}],content:[{type:"string",required:!0,message:"描述是必须的",trigger:"blur"}]},temp:{title:"",content:""},listQuery:{type:1,index:1,pageSize:14}}},created:function(){var t=this.$route.meta,e=t.title,i=t.type;this.title=e,this.type=parseInt(i),this.fetchTip()},watch:{$route:function(t,e){var i=t.meta,a=i.title,n=i.type;this.title=a,this.type=parseInt(n)}},methods:{fetchTip:function(){var t=this;Object(r.d)().then(function(e){if(console.log(e.data),e.data&&e.data.id){var i=e.data,a=(i.time,s()(i,["time"]));t.temp=a}})},tip:function(){this.dialogStatus=this.temp.id?"编辑":"添加",this.dialogFormVisible=!0},updateTip:function(){var t=this;this.$refs.dataForm.validate(function(e){if(e){t.loaded=l.Loading.service(t.options);var i=n()({},t.temp);console.log("createData",i),(t.temp.id?r.f:r.b)(i).then(function(e){t.dialogFormVisible=!1,t.$notify({title:"成功",message:"保存成功",type:"success",duration:1e3,onClose:function(){t.loaded.close()}})}).catch(function(){t.$notify({title:"失败哦",message:"保存失败，请重试",type:"error",duration:1e3,onClose:function(){t.loaded.close()}})})}})},cloudConfig:function(t,e,i){this.$router.push({path:"/doda/cloudConfig/basic",query:{title:t,type:e,name:i}})}}},u=(i("4aBH"),i("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"inner"},[i("div",{staticClass:"inner-top"},[i("span",{staticClass:"title"},[t._v(t._s(t.title))])]),t._v(" "),i("div",{staticClass:"app-container"},[i("el-row",{staticClass:"dataList"},[i("div",{staticClass:"dataList-inner clearfix"},t._l(t.list,function(e){return i("div",{key:e.id,staticClass:"dataItem",on:{click:function(i){e.fn(t.title,t.type,e.name)}}},[i("div",{staticClass:"dataItem-img"},[i("img",{staticClass:"image",attrs:{src:e.img,alt:"下载图片失败"}})]),t._v(" "),i("div",{staticClass:"dataItem-name"},[t._v(t._s(e.name))])])}))]),t._v(" "),i("el-dialog",{attrs:{title:t.dialogStatus,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("div",{staticClass:"dialog"},[i("el-form",{ref:"dataForm",staticStyle:{"min-width":"450px","max-width":"1000px"},attrs:{rules:t.rules,model:t.temp,"label-position":"right","label-width":"55px"}},[i("div",{staticClass:"form-left"},[i("el-form-item",{staticClass:"nickname",attrs:{label:"标题",prop:"title"}},[i("el-input",{model:{value:t.temp.title,callback:function(e){t.$set(t.temp,"title","string"==typeof e?e.trim():e)},expression:"temp.title"}})],1),t._v(" "),i("el-form-item",{staticClass:"cotent",attrs:{label:"内容",prop:"cotent"}},[i("el-input",{attrs:{autosize:{minRows:6,maxRows:8},type:"textarea",placeholder:"请输入内容"},model:{value:t.temp.content,callback:function(e){t.$set(t.temp,"content","string"==typeof e?e.trim():e)},expression:"temp.content"}})],1)],1)]),t._v(" "),i("div",{staticClass:"dialog-footer clearfix",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!t.dialogFormVisible}}},[t._v("取消")]),t._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"success"},on:{click:function(e){t.updateTip()}}},[t._v("保存")])],1)],1)])],1)])},[],!1,null,"21d2ec62",null);d.options.__file="cloudList.vue";e.default=d.exports},"4aBH":function(t,e,i){"use strict";var a=i("5Kub");i.n(a).a},"5Kub":function(t,e,i){},jo6Y:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){var i={};for(var a in t)e.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=t[a]);return i}}}]);